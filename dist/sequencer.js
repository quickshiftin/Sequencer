!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="ontouchstart"in window||navigator.msMaxTouchPoints;e.default={hasTouch:n}},function(t,e,i){"use strict";function n(t,e,i){return e.repeat(Math.max(0,i-t.length))+t}function o(t,e,i){return t<e?e:t>i?i:t}Object.defineProperty(e,"__esModule",{value:!0}),String.prototype.repeat=String.prototype.repeat||function(t){return t<=1?this:this+this.repeat(t-1)},e.default={padLeft:n,constrain:o}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e=new I(t);return!1!==e&&y.push(e),e}function s(t,e){e.id>t.lastLoaded&&t.config.showLoadedImages&&(t.drawImage(e.id),t.lastLoaded=e.id),"function"==typeof t.config.imageLoad&&(e.sequencer=t,t.config.imageLoad(e)),"function"==typeof t.imageLoad&&(e.sequencer=t,t.imageLoad(e)),0===e.id&&(t.config.fitFirstImage&&(t.size(e.img.width,e.img.height),t.config.fitFirstImage=!1),t.drawImage(0),t.current=0)}function r(t,e){"function"==typeof t.config.queueComplete&&(e.sequencer=t,t.config.queueComplete(e)),"function"==typeof t.queueComplete&&t.queueComplete(e),t.run(),t.config.showLoadedImages||"none"===t.config.playMode||t.drawImage(0)}function c(t,e){var i=void 0,n=void 0;e.touches?(i=e.touches[0].pageX-e.touches[0].target.offsetLeft,n=e.touches[0].pageY-e.touches[0].target.offsetTop):(i=e.offsetX,n=e.offsetY),t.pointer={x:i,y:n,down:!0,currentId:t.current}}function h(t,e){t.pointer.down=!1}function f(t,e){if(t.pointer.down){var i=t.images.length,n=void 0,o=void 0;e.touches?(n=e.touches[0].pageX-e.touches[0].target.offsetLeft,o=e.touches[0].pageY-e.touches[0].target.offsetTop):(n=e.offsetX,o=e.offsetY);var a=0;/x/.test(t.config.direction)?a=(n-t.pointer.x)*t.directionSign:/y/.test(t.config.direction)&&(a=(o-t.pointer.y)*t.directionSign);var s=t.pointer.currentId+Math.floor(a/t.config.dragAmount);s<0?s=i- -s%i:s>i&&(s%=i),s!=t.current&&(t.drawImage(s),t.current=s),e.preventDefault()}}function u(t,e){var i=t.images.length,n=t.config.retina?window.devicePixelRatio:1,o=void 0,a=void 0;e.touches?(o=e.touches[0].pageX-e.touches[0].target.offsetLeft,a=e.touches[0].pageY-e.touches[0].target.offsetTop):(o=e.offsetX,a=e.offsetY);var s=void 0,r=void 0;"x"==t.config.direction?(r=t.ctx.canvas.width/n,s=o):"-x"==t.config.direction?(r=t.ctx.canvas.width/n,s=r-o-1):"y"==t.config.direction?(r=t.ctx.canvas.height/n,s=a):"-y"==t.config.direction&&(r=t.ctx.canvas.height/n,s=r-a-1);var c=x.default.constrain(Math.floor(s/r*i),0,i-1);c!=t.current&&(t.drawImage(c),t.current=c),e.preventDefault()}function g(t,e){function i(t){return Math.log(t)/Math.LN10}for(var n=Math.min(t.length,e.length),o=Math.max(0,t.lastIndexOf("/"));t.charAt(o)==e.charAt(o)&&!/[1-9]/.test(t.charAt(o))&&o<n;)o++;var a=t.slice(o,t.lastIndexOf(".")),s=e.slice(o,e.lastIndexOf(".")),r=parseInt(a),c=parseInt(s);return{from:r,to:c,base:t.substr(0,o),ext:t.substr(t.lastIndexOf(".")),zeroes:a.length==s.length&&Math.floor(i(r))<Math.floor(i(c))?a.length:0,length:Math.abs(c-r)+1}}function d(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=[],n=t.from>t.to?-1:1,o=0;o<t.length;o+=e){var a=(t.from+o*n).toString(),s=x.default.padLeft(a,"0",t.zeroes);i.push(t.base+s+t.ext)}return i}function l(t,e,i,n){function o(){if(!(s>=e.length-1)){s++;var a=new Image;a.src=e[s],function(t){a.onload=function(s){"function"==typeof i&&i({id:t,img:a,count:++r,total:e.length}),r<e.length&&o(),r==e.length&&"function"==typeof n&&n({total:e.length})},a.onerror=function(i){console.error("Error with: "+e[t])}}(s),t.push(a)}}for(var a=Math.min(e.length,4),s=t.length-1,r=t.length,c=0;c<a;c++)o()}Object.defineProperty(e,"__esModule",{value:!0});var v=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),p=i(0),m=n(p),w=i(1),x=n(w),y=[],I=function(){function t(e){o(this,t);var i={canvas:null,from:"",to:"",step:1,scaleMode:"cover",width:"",height:"",direction:"x",playMode:"drag",loop:"loop",interval:0,autoLoad:"all",fitFirstImage:!1,showLoadedImages:!1,dragAmount:10,hiDPI:!0};if(this.config=Object.assign({},i,e),e.hasOwnProperty("retina")&&(this.config.hiDPI=e.retina),""==this.config.from&&""==this.config.to)return console.error("Missing filenames."),!1;if(!this.config.canvas){var n=document.createElement("canvas");document.body.appendChild(n),this.config.canvas=n,this.config.fitFirstImage=!0}this.pointer={x:0,y:0,down:!1},this.current=-1,this.images=[],this.directionSign=/-/.test(this.config.direction)?-1:1,this.lastLoaded=-1,this.pongSign=1,this.ctx=this.config.canvas.getContext("2d");var a=g(this.config.from,this.config.to);this.fileList=d(a,this.config.step),this.size(this.ctx.canvas.width,this.ctx.canvas.height),"first"==this.config.autoLoad?new l(this.images,[this.fileList.shift()],s.bind(null,this)):"all"==this.config.autoLoad&&this.load()}return v(t,[{key:"load",value:function(){this.load=function(){console.log("load() can be called only once.")},new l(this.images,this.fileList,s.bind(null,this),r.bind(null,this))}},{key:"run",value:function(){var t=this,e=m.default.hasTouch?"touchmove":"mousemove",i=m.default.hasTouch?"touchstart":"mousedown",n=m.default.hasTouch?"touchend":"mouseup";if("hover"===this.config.playMode)this.ctx.canvas.addEventListener(e,u.bind(null,this));else if("drag"===this.config.playMode)this.ctx.canvas.addEventListener(e,f.bind(null,this)),this.ctx.canvas.addEventListener(i,c.bind(null,this)),document.addEventListener(n,h.bind(null,this));else if("auto"===this.config.playMode){var o=0,a=function e(i){var n=i-o;n>=t.config.interval&&(t.nextImage(),o=Math.max(i,i-(n-t.config.interval))),requestAnimationFrame(e)};requestAnimationFrame(a)}}},{key:"nextImage",value:function(t){t||(t=this.config.loop),"pong"===t?(this.current+=this.pongSign,this.current>=this.images.length-1?(this.pongSign=-1,this.current=this.images.length-1):this.current<=0&&(this.pongSign=1,this.current=0),this.drawImage(this.current)):this.drawImage(++this.current%this.images.length)}},{key:"drawImage",value:function(t){if(void 0===t&&(t=this.current),!(t<0||t>=this.images.length)){var e=this.config.hiDPI?window.devicePixelRatio:1,i=this.ctx.canvas.width/e,n=this.ctx.canvas.height/e,o=i/n,a=this.images[t],s=a.width/a.height,r=void 0,c=void 0;"cover"==this.config.scaleMode?o>s?(r=i,c=r/s):(c=n,r=c*s):"contain"==this.config.scaleMode?o<s?(r=i,c=r/s):(c=n,r=c*s):"explicit"==this.config.scaleMode?(r=this.config.width,c=this.config.height):(r=a.width,c=a.height);var h=i/2-r/2,f=n/2-c/2;this.ctx.save(),this.ctx.scale(e,e),this.ctx.clearRect(0,0,i,n),this.ctx.drawImage(a,0,0,a.width,a.height,~~h,~~f,~~r,~~c),this.ctx.restore()}}},{key:"size",value:function(t,e){var i=this.config.hiDPI?window.devicePixelRatio:1,n=this.ctx.canvas;"explicit"==this.config.scaleMode?(n.width=this.config.width,n.height=this.config.height,n.style.width=this.config.width+"px",n.style.height=this.config.height+"px"):(n.width=t*i,n.height=e*i,n.style.width=t+"px",n.style.height=e+"px"),this.drawImage()}}]),t}();e.default={make:a,instances:y}}]);